## Channels

если горутины представляют собой процессы в рамках параллельной программы go, то каналы являются соединениями между ними. Канал представляет собой механизм связи, который позволяет одной go-подпрограмме отправлять некоторые значения другой goрутине.

_Каждый_ канал является средством передачи значений определенного типа который называется **типом** элементов канала.

Тип канала, элемнты котрого имеют тип int записывается как chan int.

ch := make\(chan int\)

Канал являтеся ссылкой на структуру данных \(как map\), создаваемую с помощью функции make. Копируя канал или передавая его функции в качетсве аргумента, мы копируем ссылку, поэтому вызывающая и вызываемая фунции ссылаюстся на одну и ту же структуру данных. Как и в случае с другими ссылочными типами, нулевым значением канала является **nil**.

Два канала одного типа можно сравнивать с помощью оператора ==. СРавнение имеет занчение true, если оба канала являются ссылками на одну и ту же структуру данных канала. Так же можно сравнить с nil.

Канал имеет две основные операции - отправление и получение, вместе известные как коммуникации. Инструкция отправления передает через канал значение из одной горутины другой, выполняющей интсрукцию получения.

ch &lt;- x // отправление х в канал

x = &lt;-ch // получение значения, запись в x

&lt;-ch // получение значения, значение не используется.

Каналы проддерживают третью операцию - закрытие, которая устанавливает флаг, указываеющий, что этому каналу больше не будут передаваться значения, после этого любые попытки отправления завершаются аварийной ситуаций. Операции получения, примененные к закрытому каналу, приводят к получению значений, которые были отправлены ранее, до тех пор, пока неплолученных знчений не останется; любые дальнейшие попытки получить значения приводят к немедленному завершению операции и возврату нулевого значения типа элемента канала.

close\(ch\)

Канал, созданный с помощью простого вызова make, называется небуферизованным, но make, принимает необязательный второй аргумент, который будет емкостью канала. Если емкость ненулевая, быдет создан буферизованный канал.

ch = make\(chan int\) // небуф

ch = make\(chan int, 0\) // небуф

ch = make\(chan int, 3\) // буферизованный с емкостью 3

